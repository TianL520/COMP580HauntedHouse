<!DOCTYPE html>
<html>
<meta charset="utf-8" />

<head>
    <title>The Haunted House</title>
    <link rel='stylesheet' href='MainStyle.css' />
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
</head>

<body>
    <div id="root">
        <!-- Menu Video -->
        <video autoplay loop id="menu">
            <source src="Assets/Menu.mp4" type="video/mp4">
        </video>

        <div id="startS">
            <div id="buttons">
                <button class="option" id="visitHouse">Visit the house</button>
                <button class="option" id="callTripleA">Call Triple A</button>
                <button class="option" id="HitchRide">Hitch a ride</button>
                <button class="option Replay">Replay Narration</button>
            </div>
            <p id="paragraphs">After a long week of work, you decide a weekend camping at the mountains alone would be a
                good activity. Suddenly, your car stops. Oh great, not again. Your car has broken down for the third
                time this month. Itâ€™s getting late. In the distance, you see an old mansion. What do you do?</p>
            <script>
                if (annyang) {
                    var commands = {
                        '(Visit the) house': function () {
                            var button = document.getElementById("visitHouse");
                            console.log(button)
                            annyang.pause();
                            button.click();
                        },
                        'Call Triple A': function () {
                            var button = document.getElementById("callTripleA");
                            console.log(button)
                            annyang.pause();
                            button.click();
                        },
                        'Call AAA': function () {
                            var button = document.getElementById("callTripleA");
                            console.log(button)
                            annyang.pause();
                            button.click();
                        },
                        'Hitch a ride': function () {
                            var button = document.getElementById("HitchRide");
                            console.log(button)
                            annyang.pause();
                            button.click();
                        },
                        'Catch a ride': function () {
                            var button = document.getElementById("HitchRide");
                            console.log(button)
                            annyang.pause();
                            button.click();
                        },
                        'Replay (Narration)': function () {
                            replay_narration();
                            annyang.pause();
                        }
                    };
                    annyang.removeCommands();
                    annyang.addCommands(commands);
                    document.addEventListener('keydown', function (event) {
                        if (event.keyCode == 13) {
                            var myAudio = new Audio("./Assets/prompt.mp3");
                            myAudio.play();
                            stop_speech();
                            annyang.start({
                                autoRestart: false
                            });
                        }
                    });
                    annyang.addCallback('resultNoMatch', function (phrases) {
                        annyang.pause();
                        play('noresult');
                        console.log(phrases);
                    });
                }
            </script>
        </div>

        <audio controls loop class="music">
            <source src="./Assets/Music.mp3" type='audio/mp3'></audio>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <script src="script.js"></script>
</body>

</html>